<?php 
	/* Template Name: Das Program */ 
?>

<?php get_header(); ?>

	<div id="primary--page-main" class="content-area--page-main">
		<main id="main--page-main" class="site-main--page-main">

		<div class="ticker-tape-small">
			<div class="inside">
				<svg class="first" width="2054" height="28" viewBox="0 0 2054 28">
					<text id="Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_" data-name="Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        " transform="translate(1027 22)" fill="#e6e6e6" font-size="20" font-family="Arial-Black, Arial Black" font-weight="800"><tspan x="-1026.792" y="0" xml:space="preserve">AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        </tspan></text>
				</svg>
				<svg width="2054" height="28" viewBox="0 0 2054 28">
					<text id="Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_" data-name="Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        " transform="translate(1027 22)" fill="#e6e6e6" font-size="20" font-family="Arial-Black, Arial Black" font-weight="800"><tspan x="-1026.792" y="0" xml:space="preserve">AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        </tspan></text>
				</svg>
				<svg width="2054" height="28" viewBox="0 0 2054 28">
					<text id="Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_" data-name="Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        " transform="translate(1027 22)" fill="#e6e6e6" font-size="20" font-family="Arial-Black, Arial Black" font-weight="800"><tspan x="-1026.792" y="0" xml:space="preserve">AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        </tspan></text>
				</svg>
				<svg width="2054" height="28" viewBox="0 0 2054 28">
					<text id="Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_" data-name="Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        " transform="translate(1027 22)" fill="#e6e6e6" font-size="20" font-family="Arial-Black, Arial Black" font-weight="800"><tspan x="-1026.792" y="0" xml:space="preserve">AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        </tspan></text>
				</svg>
				<svg width="2054" height="28" viewBox="0 0 2054 28">
					<text id="Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_" data-name="Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        " transform="translate(1027 22)" fill="#e6e6e6" font-size="20" font-family="Arial-Black, Arial Black" font-weight="800"><tspan x="-1026.792" y="0" xml:space="preserve">AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        </tspan></text>
				</svg>
				<svg width="2054" height="28" viewBox="0 0 2054 28">
					<text id="Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_" data-name="Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        " transform="translate(1027 22)" fill="#e6e6e6" font-size="20" font-family="Arial-Black, Arial Black" font-weight="800"><tspan x="-1026.792" y="0" xml:space="preserve">AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        </tspan></text>
				</svg>
				<!-- repeated images below to keep up with animation -->
				<svg width="2054" height="28" viewBox="0 0 2054 28">
					<text id="Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_" data-name="Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        " transform="translate(1027 22)" fill="#e6e6e6" font-size="20" font-family="Arial-Black, Arial Black" font-weight="800"><tspan x="-1026.792" y="0" xml:space="preserve">AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        </tspan></text>
				</svg>
				<svg width="2054" height="28" viewBox="0 0 2054 28">
					<text id="Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_" data-name="Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        " transform="translate(1027 22)" fill="#e6e6e6" font-size="20" font-family="Arial-Black, Arial Black" font-weight="800"><tspan x="-1026.792" y="0" xml:space="preserve">AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        </tspan></text>
				</svg>
				<svg width="2054" height="28" viewBox="0 0 2054 28">
					<text id="Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_Aktuelles_" data-name="Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        Aktuelles        " transform="translate(1027 22)" fill="#e6e6e6" font-size="20" font-family="Arial-Black, Arial Black" font-weight="800"><tspan x="-1026.792" y="0" xml:space="preserve">AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        AKTUELLES        </tspan></text>
				</svg>
			</div>
		</div>

		<?php 
			$args = array(
				'post_type' => 'post',
				'post_status' => 'publish',
				'posts_per_page' => 6,
			);
			$arr_posts = new WP_Query( $args );
			 
			if ( $arr_posts->have_posts() ) :
				
			 
				while ( $arr_posts->have_posts() ) :
					$arr_posts->the_post();
					?>
					<article class="latestpost--custom" id="post-<?php the_ID(); ?>" <?php post_class(); ?>>
						<div class="event-cover">
                            <?php
                            if ( has_post_thumbnail() ) :
                                the_post_thumbnail( 'full' );
                            endif;
                            ?>
						</div>
						<div class="event-header">
							<p><?php the_field('type'); ?></p>
							<a href="<?php the_permalink(); ?>"><h2><?php the_field('title'); ?></h2></a>
							<p><?php the_field('when'); ?></p>
							<p><?php the_field('price'); ?></p>
							<button id="booking-<?php the_ID(); ?>"><?php the_field('booking'); ?></button>
						</div>
						<div class="event-info">
							<div class="details"><?php the_field('description'); ?></div>
						</div>

						<!-- Booking Modal -->
						<div id="bookingModal-<?php the_ID(); ?>" class="modal">

						<!-- Booking Modal - Content -->
						<div class="modal-content">
							<span class="close<?php the_ID(); ?>" style="position: absolute; right: 12%; top: 7%;">&times;</span>
							<p><?php the_field('type', false); ?></p>
							<h2><?php the_field('title', false); ?></h2>
							<p><?php the_field('when', false); ?></p>
							<div class="form"><?php the_field('form', false); ?></div>
						</div>

						</div>

						<script>
						// Get the modal
						var modal<?php the_ID(); ?> = document.getElementById("bookingModal-<?php the_ID(); ?>");

						// Get the button that opens the modal
						var btn<?php the_ID(); ?> = document.getElementById("booking-<?php the_ID(); ?>");

						// Get the <span> element that closes the modal
						var span = document.getElementsByClassName("close<?php the_ID(); ?>")[0];

						// When the user clicks the button, open the modal 
						btn<?php the_ID(); ?>.onclick = function () {
							modal<?php the_ID(); ?>.style.display = "block";
						}

						// When the user clicks on <span> (x), close the modal
						span.onclick = function () {
							modal<?php the_ID(); ?>.style.display = "none";
						}

						// When the user clicks anywhere outside of the modal, close it
						window.onclick = function (event) {
							if (event.target == modal<?php the_ID(); ?>) {
								modal<?php the_ID(); ?>.style.display = "none";
							}
						}
						</script>
					</article>

					<?php
				endwhile;
			endif; ?>
		

		</main><!-- #main -->

		<?php wp_get_archives('type=yearly'); ?>

	</div><!-- #primary -->

<?php
get_sidebar();
get_footer();